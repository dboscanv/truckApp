<ion-view title="Reportes">
  <ion-content>
    <div class="row">
      <div class="col">
        <label class="item item-input item-select">
          <div class="input-label">
            Ruta
          </div>
          <select ng-options="ruta.idruta as ruta.nombre for ruta in vm.rutas"
                  name="rutaForm" required
                  ng-model="vm.idruta">
          </select>
        </label>
      </div>
      <div class="col">
        <input type="date" ng-model="vm.date">
      </div>
    </div>
    <button class="button button-positive" ng-click="vm.submit()">
      Consultar
    </button>
    <ion-list>
      <ion-item ng-repeat="reco in vm.recorridos">
        <ul>
          <li><strong>Ruta: </strong> {{reco.ruta}}</li>
          <li><strong>Fecha inicial:</strong> {{reco.fecha_ini}}</li>
          <li><strong>Fecha final:</strong> {{reco.fecha_final}}</li>
          <li><strong>Camiones:</strong>
            <ul ng-repeat="(key,value) in reco.camiones">
              <li>{{key}}</li>
            </ul>
          </li>
        </ul>
        <ion-option-button class="button-assertive"
                           ng-click="vm.obtener_pdf(reco.$id, reco)">
          Obtener PDF
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
